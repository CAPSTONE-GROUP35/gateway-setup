{% extends "base.html" %}
{% block head %}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.css"/> 

{% endblock %}


{% block header %}
  
<div id="header-container">
  <div id="header-text">
      <h1>Welcome to Dashboard</h1>
      <h2>Email Security</h2>
      <h3>Team - 35</h3>
  </div>
  <div id="header-logo">
      <img src="static/img/logo.png" alt="Logo" class="logo">
  </div>

  </div>

  <div id="menu">
    <ul>
      <li class="menuitem"><a href="/dashboard">Dashboard</a></li>
      <li class="menuitem"><a href="/emails">Emails</a></li>
      <li class="menuitem"><a href="/logs">Logs</a></li>
      <li class="menuitem"><a href="/logout">Logout</a></li>
    </ul>
  </div>

{% endblock %}
{% block content %}
<h3>Emails</h3>
<div class="outer">
  {% if emailData %}
  <!-- <input type="text" id="searchInput" placeholder="Search for emails.."> -->
  <table id="emailtable" class="table table-hover table-dark">
    <thead>
    <tr>
      <th></th> <!-- Blank header to add Childrows -->
      {% for header in headings %}
        <th>{{header}}</th>
      {% endfor%}
    </tr>
  </thead>
  <tbody>
      {% for row in emailData %}
      <tr>
        <td></td> <!-- Blank Column to add Childrows -->
        <td>{{row.id}}</td>
        <td>{{row.toAddress}}</td>
        <td>{{row.fromAddress}}</td>
        <td>{{row.subject}}</td>
        <td>{{row.body}}</td>
        <td><a href="/displayEmail/{{row.id}}" target="_blank">View Email</a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <p>There are no records to display</p>
  {% endif %}
</div>

<div class="social-buttons">
  <!-- TO DO : Social media login buttons -->
</div>
<div class="footer">
  <p>&copy; 2023 Bad Security Inc. All rights reserved.</p>
</div>
{% endblock %}